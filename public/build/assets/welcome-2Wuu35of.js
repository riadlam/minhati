document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("mobileMenuToggle"),s=document.getElementById("navbarLinks"),t=document.getElementById("mobileMenuOverlay");e&&s&&(e.addEventListener("click",function(){s.classList.toggle("active"),t&&t.classList.toggle("active");const o=e.querySelector("i");s.classList.contains("active")?(o.classList.remove("fa-bars"),o.classList.add("fa-times")):(o.classList.remove("fa-times"),o.classList.add("fa-bars"))}),t&&t.addEventListener("click",function(){s.classList.remove("active"),t.classList.remove("active");const o=e.querySelector("i");o.classList.remove("fa-times"),o.classList.add("fa-bars")}),s.querySelectorAll("a").forEach(o=>{o.addEventListener("click",function(){s.classList.remove("active"),t&&t.classList.remove("active");const n=e.querySelector("i");n.classList.remove("fa-times"),n.classList.add("fa-bars")})}),document.addEventListener("keydown",function(o){if(o.key==="Escape"&&s.classList.contains("active")){s.classList.remove("active"),t&&t.classList.remove("active");const n=e.querySelector("i");n.classList.remove("fa-times"),n.classList.add("fa-bars")}}))});const w=document.querySelectorAll("section"),p=document.querySelectorAll(".navbar-links a");function A(e){const s=document.querySelector(e);if(s){const t=s.offsetTop-20;window.scrollTo({top:t,behavior:"smooth"})}}window.addEventListener("scroll",()=>{let e="";const s=window.scrollY+200;w.forEach(t=>{const o=t.offsetTop,n=t.offsetHeight;s>=o&&s<o+n&&(e=t.getAttribute("id"))}),p.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===`#${e}`&&t.classList.add("active")})});p.forEach(e=>{e.addEventListener("click",s=>{s.preventDefault();const t=e.getAttribute("href");A(t)})});const i=document.querySelector(".about-section"),l=document.querySelector("footer"),k={threshold:.1,rootMargin:"0px 0px -50px 0px"},I=new IntersectionObserver(e=>{e.forEach(s=>{s.isIntersecting&&(s.target===i&&i&&i.classList.add("about-visible"),s.target===l&&l&&l.classList.add("visible"))})},k);i&&(I.observe(i),i.getBoundingClientRect().top<window.innerHeight&&i.classList.add("about-visible"));l&&l.classList.add("visible");const a=document.querySelectorAll(".hero-bg"),y=document.querySelector(".hero-arrow.left"),b=document.querySelector(".hero-arrow.right");let c=0,h;function d(e=!0){a[c].classList.remove("active"),e?c=(c+1)%a.length:c=(c-1+a.length)%a.length,setTimeout(()=>{a[c].classList.add("active")},50)}b&&b.addEventListener("click",()=>{d(!0),f()});y&&y.addEventListener("click",()=>{d(!1),f()});function L(){h=setInterval(()=>{d(!0)},6e3)}function f(){clearInterval(h),L()}if(a.length>1){L();const e=document.querySelector(".hero");e&&(e.addEventListener("mouseenter",()=>{clearInterval(h)}),e.addEventListener("mouseleave",()=>{L()}))}document.addEventListener("keydown",e=>{e.key==="ArrowRight"?(d(!0),f()):e.key==="ArrowLeft"&&(d(!1),f())});const u=document.getElementById("toggle-details"),v=document.getElementById("details-content");let r=!1;u&&v&&u.addEventListener("click",()=>{r=!r,v.classList.toggle("show"),r&&setTimeout(()=>{v.scrollIntoView({behavior:"smooth",block:"nearest"})},300),u.innerHTML=r?'<i class="fa-solid fa-circle-xmark ms-2"></i> إخفاء التفاصيل':'<i class="fa-solid fa-circle-info ms-2"></i> المزيد من التفاصيل',u.classList.toggle("active",r)});const x=document.querySelectorAll(".btn");x.forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-4px) scale(1.05)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0) scale(1)"}),e.addEventListener("mousedown",function(){this.style.transform="translateY(-2px) scale(1.02)"}),e.addEventListener("mouseup",function(){this.style.transform="translateY(-4px) scale(1.05)"})});window.addEventListener("load",()=>{document.body.classList.add("loaded");const e=document.querySelector(".hero-content");e&&(e.style.opacity="0",e.style.transform="translateY(40px)",setTimeout(()=>{e.style.transition="all 1.5s ease",e.style.opacity="1",e.style.transform="translateY(0)"},100))});const E=document.querySelectorAll(".faq-item");E.forEach(e=>{e.querySelector(".faq-question").addEventListener("click",()=>{const t=e.classList.contains("active");E.forEach(o=>{o!==e&&o.classList.remove("active")}),e.classList.toggle("active",!t)})});function T(e,s,t=2e3){let o=0;const n=s/(t/16),m=setInterval(()=>{o+=n,o>=s?(e.textContent=s.toLocaleString("en-US"),clearInterval(m)):e.textContent=Math.floor(o).toLocaleString("en-US")},16)}const B=document.querySelectorAll(".stat-number");let S=!1;function g(){const e=document.querySelector(".statistics-section");if(!e||S)return;const s=e.getBoundingClientRect();s.top<window.innerHeight&&s.bottom>0&&(B.forEach(o=>{const n=parseInt(o.getAttribute("data-target"));n&&T(o,n)}),S=!0)}window.addEventListener("scroll",g);g();const M=document.querySelectorAll(".section-header"),Y=document.querySelectorAll(".feature-card"),C=document.querySelectorAll(".step-item"),q=new IntersectionObserver(e=>{e.forEach(s=>{s.isIntersecting&&(s.target.classList.add("visible"),s.target.classList.contains("features-section")&&Y.forEach((t,o)=>{setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="all 0.6s ease",setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},50)},o*100)}),s.target.classList.contains("how-it-works-section")&&C.forEach((t,o)=>{setTimeout(()=>{t.classList.add("visible")},o*200)}))})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});w.forEach(e=>{q.observe(e)});M.forEach(e=>{q.observe(e)});function O(e,s){let t;return function(...n){const m=()=>{clearTimeout(t),e(...n)};clearTimeout(t),t=setTimeout(m,s)}}const H=O(()=>{g()},16);window.addEventListener("scroll",H);
